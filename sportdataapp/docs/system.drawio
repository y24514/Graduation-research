<mxfile host="65bd71144e">
    <diagram id="sportdataapp-system" name="システム構成">
        <mxGraphModel dx="1160" dy="851" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="browser" value="ユーザーブラウザ&#xa;（Chrome/Edge）&#xa;&#xa;UI: HTML/CSS/JS" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="20" y="80" width="170" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="local" value="ローカル環境（Windows + XAMPP）" style="swimlane;horizontal=0;startSize=34;rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;" parent="1" vertex="1">
                    <mxGeometry x="230" y="70" width="880" height="600" as="geometry"/>
                </mxCell>
                <mxCell id="apache" value="Apache HTTP Server&#xa;（XAMPP）&#xa;&#xa;静的ファイル配信&#xa;*.php を PHP 実行へルーティング" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;" parent="local" vertex="1">
                    <mxGeometry x="40" y="70" width="260" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="phpapp" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=12;fontStyle=1;" parent="local" vertex="1">
                    <mxGeometry x="330" y="10" width="500" height="360" as="geometry"/>
                </mxCell>
                <mxCell id="mod_auth" value="認証・セッション&#xa;- login.php / reg.php&#xa;- session_bootstrap.php&#xa;&#xa;tab_id → session_name" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=11;" parent="phpapp" vertex="1">
                    <mxGeometry x="20" y="30" width="220" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="mod_core" value="基本機能&#xa;- home.php（カレンダー）&#xa;- pi.php&#xa;- diary.php + diary_api.php&#xa;- profile_edit.php" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=11;" parent="phpapp" vertex="1">
                    <mxGeometry x="260" y="30" width="220" height="145" as="geometry"/>
                </mxCell>
                <mxCell id="mod_chat" value="チャット・グループ&#xa;- chat_list.php / chat.php&#xa;- chat_messages.php&#xa;- mark_as_read.php&#xa;- create_group*.php&#xa;- add/remove_member_ajax.php" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=11;" parent="phpapp" vertex="1">
                    <mxGeometry x="20" y="175" width="220" height="150" as="geometry"/>
                </mxCell>
                <mxCell id="mod_admin" value="管理者機能&#xa;- admin.php&#xa;- contact.php&#xa;- contact_submit_ajax.php&#xa;&#xa;権限: 管理者 / スーパー管理者" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;" parent="phpapp" vertex="1">
                    <mxGeometry x="260" y="200" width="220" height="125" as="geometry"/>
                </mxCell>
                <mxCell id="mod_sports" value="競技別モジュール&#xa;- swim/*&#xa;- basketball_*&#xa;- T_MNO/*（テニス）" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6e6e6;strokeColor=#666666;fontSize=11;" parent="phpapp" vertex="1">
                    <mxGeometry x="20" y="350" width="460" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="db" value="MySQL / MariaDB&#xa;（XAMPP）&#xa;&#xa;DB: sportsdata&#xa;初期: db/sportsdata.sql&#xa;+ db/add_*.sql" style="shape=cylinder;whiteSpace=wrap;html=1;boundedLbl=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" parent="local" vertex="1">
                    <mxGeometry x="330" y="460" width="240" height="130" as="geometry"/>
                </mxCell>
                <mxCell id="fs" value="ファイルシステム（サーバー）&#xa;&#xa;- uploads/（画像など）&#xa;- PHPセッション（ファイル）" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;" parent="local" vertex="1">
                    <mxGeometry x="620" y="460" width="210" height="130" as="geometry"/>
                </mxCell>
                <mxCell id="static" value="静的アセット&#xa;- HTML/*.html.php&#xa;- css/*&#xa;- js/*（Ajax、カレンダー、チャット）" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontSize=12;" parent="local" vertex="1">
                    <mxGeometry x="40" y="210" width="260" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="e2" value="CSS/JS/HTML 配信" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;strokeColor=#666666;" parent="local" source="apache" target="static" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="e3" value="PHP 実行&#xa;（ページ + Ajax）" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;strokeColor=#666666;" parent="local" source="apache" target="phpapp" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="e4" value="SQL" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;strokeColor=#666666;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="local" source="mod_sports" target="db" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="580" y="440"/>
                            <mxPoint x="480" y="440"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="e5" value="読み書き&#xa;uploads + セッション" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;strokeColor=#666666;" parent="local" target="fs" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="580" y="420" as="sourcePoint"/>
                        <Array as="points">
                            <mxPoint x="580" y="440"/>
                            <mxPoint x="735" y="440"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="e1" value="HTTP" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;strokeColor=#666666;" parent="1" source="browser" target="apache" edge="1">
                    <mxGeometry x="-0.3333" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="210" y="130"/>
                            <mxPoint x="210" y="200"/>
                        </Array>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>