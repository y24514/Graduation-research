<?plantuml 1.2026.1beta5?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="483px" preserveAspectRatio="none" style="width:597px;height:483px;background:#FFFFFF;" version="1.1" viewBox="0 0 597 483" width="597px" zoomAndPan="magnify"><title>ER&#22259;: Chat&#65288;&#20491;&#20154;/&#12464;&#12523;&#12540;&#12503;/&#26082;&#35501;&#65289;</title><defs/><g><g class="title" data-source-line="1"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="231.4232" x="176.2067" y="22.9951">ER&#22259;: Chat&#65288;&#20491;&#20154;/&#12464;&#12523;&#12540;&#12503;/&#26082;&#35501;&#65289;</text></g><!--class login--><g class="entity" data-qualified-name="login" data-source-line="9" id="ent0002"><rect fill="#F1F1F1" height="107.4844" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="153.8867" x="85.88" y="44.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.3701" x="133.1383" y="62.292">login_tbl</text><line style="stroke:#181818;stroke-width:0.5;" x1="86.88" x2="238.7667" y1="70.5938" y2="70.5938"/><g data-visibility-modifier="IE_MANDATORY"><ellipse cx="96.88" cy="84.2422" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/></g><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44.6455" x="105.88" y="87.5889">id : int</text><line style="stroke:#181818;stroke-width:1;" x1="86.88" x2="238.7667" y1="94.8906" y2="94.8906"/><g data-visibility-modifier="IE_MANDATORY"><ellipse cx="96.88" cy="108.5391" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/></g><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127.8867" x="105.88" y="111.8857">group_id : varchar</text><g data-visibility-modifier="IE_MANDATORY"><ellipse cx="96.88" cy="124.8359" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/></g><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.4551" x="105.88" y="128.1826">user_id : varchar</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.8457" x="105.88" y="144.4795">name : varchar</text></g><!--class chat_group--><g class="entity" data-qualified-name="chat_group" data-source-line="17" id="ent0003"><rect fill="#F1F1F1" height="107.4844" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="166.8135" x="322.42" y="44.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.8721" x="353.8907" y="62.292">chat_group_tbl</text><line style="stroke:#181818;stroke-width:0.5;" x1="323.42" x2="488.2335" y1="70.5938" y2="70.5938"/><g data-visibility-modifier="IE_MANDATORY"><ellipse cx="333.42" cy="84.2422" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/></g><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.252" x="342.42" y="87.5889">chat_group_id : int</text><line style="stroke:#181818;stroke-width:1;" x1="323.42" x2="488.2335" y1="94.8906" y2="94.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127.8867" x="328.42" y="111.8857">group_id : varchar</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154.8135" x="328.42" y="128.1826">group_name : varchar</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.9492" x="328.42" y="144.4795">created_by : varchar</text></g><!--class chat_group_member--><g class="entity" data-qualified-name="chat_group_member" data-source-line="25" id="ent0004"><rect fill="#F1F1F1" height="107.4844" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176.0166" x="414.82" y="206.2269"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170.0166" x="417.82" y="224.222">chat_group_member_tbl</text><line style="stroke:#181818;stroke-width:0.5;" x1="415.82" x2="589.8366" y1="232.5238" y2="232.5238"/><g data-visibility-modifier="IE_MANDATORY"><ellipse cx="425.82" cy="246.1722" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/></g><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44.6455" x="434.82" y="249.5189">id : int</text><line style="stroke:#181818;stroke-width:1;" x1="415.82" x2="589.8366" y1="256.8206" y2="256.8206"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.252" x="420.82" y="273.8157">chat_group_id : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127.8867" x="420.82" y="290.1126">group_id : varchar</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.4551" x="420.82" y="306.4095">user_id : varchar</text></g><!--class chat--><g class="entity" data-qualified-name="chat" data-source-line="33" id="ent0005"><rect fill="#F1F1F1" height="156.375" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160.627" x="229.51" y="181.7769"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.9043" x="281.8713" y="199.772">chat_tbl</text><line style="stroke:#181818;stroke-width:0.5;" x1="230.51" x2="389.137" y1="208.0738" y2="208.0738"/><g data-visibility-modifier="IE_MANDATORY"><ellipse cx="240.51" cy="221.7222" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/></g><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44.6455" x="249.51" y="225.0689">id : int</text><line style="stroke:#181818;stroke-width:1;" x1="230.51" x2="389.137" y1="232.3706" y2="232.3706"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127.8867" x="235.51" y="249.3657">group_id : varchar</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.4551" x="235.51" y="265.6626">user_id : varchar</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.5273" x="235.51" y="281.9595">chat_type : enum</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.252" x="235.51" y="298.2564">chat_group_id : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148.627" x="235.51" y="314.5532">recipient_id : varchar</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.582" x="235.51" y="330.8501">is_deleted : tinyint</text></g><!--class chat_read--><g class="entity" data-qualified-name="chat_read" data-source-line="44" id="ent0006"><rect fill="#F1F1F1" height="156.375" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="197.6504" x="7" y="181.7769"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.7578" x="33.4463" y="199.772">chat_read_status_tbl</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="203.6504" y1="208.0738" y2="208.0738"/><g data-visibility-modifier="IE_MANDATORY"><ellipse cx="18" cy="221.7222" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/></g><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44.6455" x="27" y="225.0689">id : int</text><line style="stroke:#181818;stroke-width:1;" x1="8" x2="203.6504" y1="232.3706" y2="232.3706"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127.8867" x="13" y="249.3657">group_id : varchar</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.4551" x="13" y="265.6626">user_id : varchar</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.5273" x="13" y="281.9595">chat_type : enum</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.252" x="13" y="298.2564">chat_group_id : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148.627" x="13" y="314.5532">recipient_id : varchar</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185.6504" x="13" y="330.8501">last_read_message_id : int</text></g><!--link login to chat--><g class="link" data-entity-1="ent0002" data-entity-2="ent0005" data-link-type="crowfoot" data-source-line="56" id="lnk7"><path codeLine="56" d="M234.64,159.9569 C234.64,169.4369 234.64,153.4669 234.64,163.4569" fill="none" id="login-chat" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="230.64" x2="238.64" y1="155.9569" y2="155.9569"/><line style="stroke:#181818;stroke-width:1;" x1="230.64" x2="238.64" y1="158.9569" y2="158.9569"/><line style="stroke:#181818;stroke-width:1;" x1="234.64" x2="234.64" y1="159.9569" y2="151.9569"/><line style="stroke:#181818;stroke-width:1;" x1="234.64" x2="240.64" y1="173.4569" y2="181.4569"/><line style="stroke:#181818;stroke-width:1;" x1="234.64" x2="228.64" y1="173.4569" y2="181.4569"/><line style="stroke:#181818;stroke-width:1;" x1="234.64" x2="234.64" y1="173.4569" y2="181.4569"/><ellipse cx="234.64" cy="167.4569" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1;"/></g><!--link login to chat_read--><g class="link" data-entity-1="ent0002" data-entity-2="ent0006" data-link-type="crowfoot" data-source-line="57" id="lnk8"><path codeLine="57" d="M145.27,159.9569 C145.27,169.4369 145.27,153.4669 145.27,163.4569" fill="none" id="login-chat_read" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="141.27" x2="149.27" y1="155.9569" y2="155.9569"/><line style="stroke:#181818;stroke-width:1;" x1="141.27" x2="149.27" y1="158.9569" y2="158.9569"/><line style="stroke:#181818;stroke-width:1;" x1="145.27" x2="145.27" y1="159.9569" y2="151.9569"/><line style="stroke:#181818;stroke-width:1;" x1="145.27" x2="151.27" y1="173.4569" y2="181.4569"/><line style="stroke:#181818;stroke-width:1;" x1="145.27" x2="139.27" y1="173.4569" y2="181.4569"/><line style="stroke:#181818;stroke-width:1;" x1="145.27" x2="145.27" y1="173.4569" y2="181.4569"/><ellipse cx="145.27" cy="167.4569" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1;"/></g><!--link chat_group to chat_group_member--><g class="link" data-entity-1="ent0003" data-entity-2="ent0004" data-link-type="crowfoot" data-source-line="58" id="lnk9"><path codeLine="58" d="M452.02,159.9569 C452.02,177.2569 452.02,170.4169 452.02,187.7369" fill="none" id="chat_group-chat_group_member" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="448.02" x2="456.02" y1="155.9569" y2="155.9569"/><line style="stroke:#181818;stroke-width:1;" x1="448.02" x2="456.02" y1="158.9569" y2="158.9569"/><line style="stroke:#181818;stroke-width:1;" x1="452.02" x2="452.02" y1="159.9569" y2="151.9569"/><line style="stroke:#181818;stroke-width:1;" x1="452.02" x2="458.02" y1="197.7369" y2="205.7369"/><line style="stroke:#181818;stroke-width:1;" x1="452.02" x2="446.02" y1="197.7369" y2="205.7369"/><line style="stroke:#181818;stroke-width:1;" x1="452.02" x2="452.02" y1="197.7369" y2="205.7369"/><ellipse cx="452.02" cy="191.7369" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1;"/></g><!--link chat_group to chat--><g class="link" data-entity-1="ent0003" data-entity-2="ent0005" data-link-type="crowfoot" data-source-line="59" id="lnk10"><path codeLine="59" d="M356.28,159.9569 C356.28,169.4369 356.28,153.4669 356.28,163.4569" fill="none" id="chat_group-chat" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="352.28" x2="360.28" y1="155.9569" y2="155.9569"/><line style="stroke:#181818;stroke-width:1;" x1="352.28" x2="360.28" y1="158.9569" y2="158.9569"/><line style="stroke:#181818;stroke-width:1;" x1="356.28" x2="356.28" y1="159.9569" y2="151.9569"/><line style="stroke:#181818;stroke-width:1;" x1="356.28" x2="362.28" y1="173.4569" y2="181.4569"/><line style="stroke:#181818;stroke-width:1;" x1="356.28" x2="350.28" y1="173.4569" y2="181.4569"/><line style="stroke:#181818;stroke-width:1;" x1="356.28" x2="356.28" y1="173.4569" y2="181.4569"/><ellipse cx="356.28" cy="167.4569" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1;"/></g><g class="legend" data-source-line="61"><rect fill="#DDDDDD" height="107.7813" rx="7.5" ry="7.5" style="stroke:#000000;stroke-width:1;" width="396.9277" x="174.9089" y="356.1519"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.7164" x="179.9089" y="374.147">&#20491;&#20154;&#12481;&#12515;&#12483;&#12488;:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="227.2879" x="179.9089" y="390.4439">- chat.recipient_id &#12364;&#30456;&#25163; user_id</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.7163" x="179.9089" y="406.7407">&#12464;&#12523;&#12540;&#12503;&#12481;&#12515;&#12483;&#12488;:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189.4236" x="179.9089" y="423.0376">- chat.chat_group_id &#12434;&#20351;&#29992;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32.7167" x="179.9089" y="439.3345">&#26082;&#35501;:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="386.9277" x="179.9089" y="455.6314">- chat_read &#12399; chat_type + (chat_group_id|recipient_id)</text></g><?plantuml-src nLJDRjD04BxxAKQzyAVG0kAI6qBm0F00riOUEQlQkzRk1XGQ99ozj9GJ0Y8Kn24815G892we2ih3RDAqfxu2QpjLDeuZk77pVZEUxvjlPrPH5IFSUp0R_cp2tJPHv-FzsRF3wV7njkd_CFh8wB7HW-sJmUZqwxVpyO6dU0gAGuihnHC8gS10KSwyDWqH0Yg263svIrbA14aWfWnLDqNWGhMv4s0yH8aftBpjW8AmtHoyjUE0TuJWZ-zpfXxI9mWtTZmFcQAg2rinZoZpLIlU0YAXEC6U1t2LXj04ofJzRZHo81Aya_e5_8Y8e4r4ZdOaYYh8I88Ey7J9Pi_ABmjTK2wXajT9gKgeLL225Kg0G21H6Fgjxb-L99YqR1FhWXQHUZ_gTTPANFUeAiJbhgVxny8BNSMuD05P9zaerGuTJQcLKQr0fHzYZDOz2olAkdb-LR6rD_Ib8geZLvtB0_-zXPZ8XSG4fIGHBl-oZLo2ipUZwQHlzzJeBqQ_jJiwVvVDNtyqsS1adqv7HwR_V3PyVvPDydKjjwBNQpJuNg5a7Id8F6UMtPWxJ1joF2_625a8WaRjlBNo0J4wC_g3qThe_MRkOv5yVQLlaxsO3t-T71nUU6dpt7TdGurLHqt_vVJtPFxgiqqetwbbQdcb9llkNCmrkBnIeETAkc979Ipx-GC0?></g></svg>